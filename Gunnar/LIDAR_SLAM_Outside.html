<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://code.getmdl.io/1.2.1/material.deep_orange-blue.min.css">
<script src="https://code.getmdl.io/1.2.1/material.min.js" defer></script><meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
.demo-ribbon {
  width: 100%;
  height: 40vh;
  //background-image: url("hero.png");
  background-color: #f5f5f5;
  flex-shrink: 0;
}

.demo-main {
  margin-top: -35vh;
  flex-shrink: 0;
}

.demo-header .mdl-layout__header-row {
  padding-left: 40px;
}

.demo-container {
  max-width: 1600px;
  width: calc(100% - 16px);
  margin: 0 auto;
}

.demo-content {
  border-radius: 2px;
  padding: 80px 56px;
  margin-bottom: 80px;
}

.demo-layout.is-small-screen .demo-content {
  padding: 40px 28px;
}

.demo-content h3 {
  margin-top: 48px;
}

.demo-footer {
  padding-left: 40px;
}

.demo-footer .mdl-mini-footer--link-list a {
  font-size: 13px;
}
#view-source {
    float: right;
}
</style>
<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$']],
      processEscapes: true,
    }
  }
  </script><script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script><script type="text/javascript" src="../mermaid.min.js" async></script><link rel="stylesheet" href="../colorful.css">
<link rel="stylesheet" href="../styles.css">
<link rel="stylesheet" href="../pygments.css">
<link rel="stylesheet" href="../colorful.css">
<script>
                    function show(toExpand)
                    {
                    if(
                       document.getElementById(toExpand).style.display == 'none'
                       ||
                       document.getElementById(toExpand).style.display == ''
                       )
                        document.getElementById(toExpand).style.display = 'block';
                    else
                        document.getElementById(toExpand).style.display = 'none';
                    }
                    </script><style></style>
</head>
<body><div class="demo-layout mdl-layout mdl-layout--fixed-header mdl-js-layout mdl-color--grey-100">
<header class="demo-header mdl-layout__header mdl-layout__header--scroll mdl-color--grey-100 mdl-color-text--grey-800"><div class="mdl-layout__header-row">
<span class="mdl-layout-title"><a href="../index.html" style="text-decoration:none; color:#444;" class="mdl-typography--headline">Tom Bertalan</a></span><div class="mdl-layout-spacer"></div>
</div></header><div class="demo-ribbon"></div>
<main class="demo-main mdl-layout__content"><div class="demo-container mdl-grid">
<div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
<div class="demo-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col">
<div class="demo-crumbs mdl-color-text--grey-500">
<a href="../index.html">Home</a> &gt; <a href="index.html">Gunnar</a> &gt; <span>LIDAR SLAM Outside</span>
</div>
<span></span><h1>LIDAR SLAM Outside</h1>
<span></span><p>I learned two things this evening:</p>
<ol>
<li>The Neato XV-11 LIDAR is only good for about 12 feet or so,
   and, for reliable SLAM, well-featured walls should be kept within about half that.</li>
<li>Elevator doors can be cruel and uncaring monsters to the 9-inch-tall.</li>
</ol>
<p>At the broadcasted recommendation of A. Margolis on the HBRC mailing list,
I purchased a GL-MT300A-Ext "smart mini router".
This appears to be a tiny ARM PC running OpenWRT,
and presenting a web-based interface for configuration.</p>
<p>It has two antennae, an RJ45 uplink jack,
and an RJ45 client jack, and is USB-powered.
Ignoring the uplink jack, I connected the power and client jacks
to Gunnar's Raspberry Pi3,
and instructed the router to broadcast the SSID Gunnar on one antenna
and connect to the ambient wifi with the other.
It performs some NAT magic to provide internet from the ambient wifi to its own network,
but, more importantly, Gunnar now carries his own network with him,
to which I can connect my laptop.</p>
<p>So, I reconfigured to run roscore, SLAM, and move_base on my laptop
rather than my desktop, and tried to drive all the way to the laundry room
in an adjacent building. This required descending an elevator
(which attacked, breaking the hot-glue hold of one of Gunnar's webcams),
exiting through two doors, and traveling maybe two hundred feet across blacktop,
over bare dirt surrounding trees planted in blacktop cutouts,
and always with about six feet of sparsely planted landscaping margin between us and the building outer wall.</p>
<p>This landscaping margin was really a problem for SLAM--it kept us far enough away
from the wall that it usually didn't show up on the LIDAR,
didn't have enough leaves to show up well itself (since it's winter),
and was too obstructed to attempt driving inside.</p>
<p>So, for a long distance, localiztion was mostly odometry-only.</p>
<p>I restarted SLAM several times thorugh the journey--mostly just because
I approached a closed door, which got baked into the map,
and so holding the door open, clearing the map, and reassigning the navigation target
was the easiest way to proceed forward.
Although, now that I think back, I also could have just held the door
and teleoped through the falsely occupied map cells.</p>
<p>All in all, though, I'd say this was a succes. 
The laptop doesn't run gmapping and move_base simultaneously as smoothly as the desktop,
but it never lost connection while I was in 40-foot line-of-sight,
which means that I can consider doing a demonstration
for the kids at the local FIRST robotics club.</p>
<p>But it's indoor environments only for now,
at least until I wrangle some long-range SLAM method,
like maybe visual landmarks.</p>
<p>Below, I compiled restarted maps from several points in the evening
into an approximate combined whole, by eye.
Green-highlighted segments are indoors.
At bottom right, I superimposed the fourth and first (ground) floors,
with the fourth at lowered opacity.
<a href="courtyard.png">
<img src="courtyard.png" title="Click to enlarge." width="100%">
</a></p>
</div>
<div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
</div></main>
</div></body>
</html>
