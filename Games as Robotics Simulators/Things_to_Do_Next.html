<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://code.getmdl.io/1.2.1/material.deep_orange-blue.min.css">
<script src="https://code.getmdl.io/1.2.1/material.min.js" defer></script><meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
.demo-ribbon {
  width: 100%;
  height: 40vh;
  //background-image: url("hero.png");
  background-color: #f5f5f5;
  flex-shrink: 0;
}

.demo-main {
  margin-top: -35vh;
  flex-shrink: 0;
}

.demo-header .mdl-layout__header-row {
  padding-left: 40px;
}

.demo-container {
  max-width: 1600px;
  width: calc(100% - 16px);
  margin: 0 auto;
}

.demo-content {
  border-radius: 2px;
  padding: 80px 56px;
  margin-bottom: 80px;
}

.demo-layout.is-small-screen .demo-content {
  padding: 40px 28px;
}

.demo-content h3 {
  margin-top: 48px;
}

.demo-footer {
  padding-left: 40px;
}

.demo-footer .mdl-mini-footer--link-list a {
  font-size: 13px;
}
#view-source {
    float: right;
}
</style>
<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$']],
      processEscapes: true,
    }
  }
  </script><script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script><script type="text/javascript" src="../mermaid.min.js" async></script><link rel="stylesheet" href="../colorful.css">
<link rel="stylesheet" href="../styles.css">
<link rel="stylesheet" href="../pygments.css">
<link rel="stylesheet" href="../colorful.css">
<script>
                    function show(toExpand)
                    {
                    if(
                       document.getElementById(toExpand).style.display == 'none'
                       ||
                       document.getElementById(toExpand).style.display == ''
                       )
                        document.getElementById(toExpand).style.display = 'block';
                    else
                        document.getElementById(toExpand).style.display = 'none';
                    }
                    </script><style></style>
</head>
<body><div class="demo-layout mdl-layout mdl-layout--fixed-header mdl-js-layout mdl-color--grey-100">
<header class="demo-header mdl-layout__header mdl-layout__header--scroll mdl-color--grey-100 mdl-color-text--grey-800"><div class="mdl-layout__header-row">
<span class="mdl-layout-title"><a href="../index.html" style="text-decoration:none; color:#444;" class="mdl-typography--headline">Tom Bertalan</a></span><div class="mdl-layout-spacer"></div>
</div></header><div class="demo-ribbon"></div>
<main class="demo-main mdl-layout__content"><div class="demo-container mdl-grid">
<div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
<div class="demo-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col">
<div class="demo-crumbs mdl-color-text--grey-500">
<a href="../index.html">Home</a> &gt; <a href="index.html">Games as Robotics Simulators</a> &gt; <span>Things to Do Next</span>
</div>
<span></span><h1>Things to Do Next</h1>
<span></span><p>Next things I need to do--I'll report here as I work on them:</p>
<h5>Get Data out of the Game Engine</h5>
<ul class="task-list">
<li class="task-list-item">
<label class="task-list-control"><input type="checkbox" disabled><span class="task-list-indicator"></span></label> Decide on which metrics we want to publish, and find them as properties of the undocumented <code>Vehicle</code> object.</li>
</ul>
<p>(That which is really important for my initial plans is bolded below.)</p>
<p>For ego-data,</p>
<ol>
<li><strong>pose, pose rate, and pose acceleration (both translation and rotation),</strong></li>
<li>
<strong>Drive torque</strong> (before or after PTO?)</li>
<li>
<strong>Steering torque</strong> (or some other indicator of steering control input)</li>
<li>Bounding box (or other collision information).</li>
</ol>
<p>For world-data,</p>
<ol>
<li>Maybe some of the above for nearby agents (vehicles and maybe also pedestrians).</li>
<li>
<strong>Local ground plane</strong> ...</li>
<li>... or, on script startup, the whole map so that we can use our pose to infer local ground plane.</li>
<li>Nearby static obstacles' bounding boxes.</li>
</ol>
<h5>Get Control Input into the Game Engine</h5>
<ul class="task-list">
<li class="task-list-item">
<label class="task-list-control"><input type="checkbox" disabled><span class="task-list-indicator"></span></label> Make a non-Lua interface to accept throttle/brake (no gears) and steering (angle or, better, torque).</li>
<li class="task-list-item">
<label class="task-list-control"><input type="checkbox" disabled><span class="task-list-indicator"></span></label> Clarify the mapping between these inputs and the ego-data that we read.</li>
</ul>
<p>To start with, this can be a socket or just a simple file that I'll read repeatedly. Eventually, it will be a ROS twist, or Ackerman steering command.</p>
<p>For the clarification part, one issue I see is that there are multiple possible ways to provide input. A human playing with keyboard can go from nothing <span class="keys"><kbd class="key-w">W</kbd></span> (resp., <span class="keys"><kbd class="key-s">S</kbd></span>) to instantaneously turn on forward (reverse) drive torque at some set level.</p>
<ol>
<li>steering "times" (which I think are effectively steering angle set point, under the assumption that steering changes at a constant rate until that time is reached); and</li>
<li>specified-curvature paths, where the </li>
</ol>
<h5>Improve Point Clouds</h5>
<ul class="task-list">
<li class="task-list-item">
<label class="task-list-control"><input type="checkbox" disabled><span class="task-list-indicator"></span></label> Use <a href="https://colmap.github.io/cameras.html">COLMAP</a> to estimate camera parameters from a few frames, and for a few vehicles like <a href="https://github.com/cc959/Matura_Unreal">this guy says he did</a>.</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled><span class="task-list-indicator"></span></label> Follow notes from [[FS22 2023-05-16]] to select a better depth network.</p>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled><span class="task-list-indicator"></span></label> Set up ROS2 on this machine; maybe in a container.</p>
</li>
<li class="task-list-item">
<label class="task-list-control"><input type="checkbox" disabled><span class="task-list-indicator"></span></label> Publish as ROS topics these segmented point clouds in some usable format, with suitably backdated timestamps.</li>
<li class="task-list-item">
<label class="task-list-control"><input type="checkbox" disabled><span class="task-list-indicator"></span></label> Assign the segmented classes to different bins based on how bad (or good) it would be to drive on/through them.</li>
<li class="task-list-item">
<label class="task-list-control"><input type="checkbox" disabled><span class="task-list-indicator"></span></label> Use a Lua mod (see other entries) to</li>
<li class="task-list-item">
<label class="task-list-control"><input type="checkbox" disabled><span class="task-list-indicator"></span></label> Publish acceleration and orientation data as an IMU topic</li>
<li class="task-list-item">
<label class="task-list-control"><input type="checkbox" disabled><span class="task-list-indicator"></span></label> Maybe publish some sparse ray tracings as ultrasound topics.</li>
<li class="task-list-item">
<label class="task-list-control"><input type="checkbox" disabled><span class="task-list-indicator"></span></label> Accept control commands</li>
<li class="task-list-item">
<label class="task-list-control"><input type="checkbox" disabled><span class="task-list-indicator"></span></label> Use e.g. <a href="http://introlab.github.io/rtabmap/">RTAB-Map</a> to integrate these.</li>
</ul>
</div>
<div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
</div></main>
</div></body>
</html>
